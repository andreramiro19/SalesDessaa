<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRUD Firebase</title>
    <script src="https://www.gstatic.com/firebasejs/9.6.8/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.8/firebase-database.js"></script>
</head>
<body>

    <h1>CRUD Firebase</h1>
    
    <!-- Input para adicionar nome -->
    <input type="text" id="nameInput" placeholder="Adicionar nome">
    <button onclick="addName()">Adicionar</button>
    
    <h2>Lista de Nomes</h2>
    <ul id="nameList"></ul>
    
    <script>
        // Configuração do Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyBNoe0qetEX2JwXdDli8kmTQVDxwmDK5jY",
            authDomain: "salesdessaa.firebaseapp.com",
            databaseURL: "https://salesdessaa-default-rtdb.firebaseio.com",
            projectId: "salesdessaa",
            storageBucket: "salesdessaa.firebasestorage.app",
            messagingSenderId: "354160224607",
            appId: "1:354160224607:web:d7a6d443bc93281950aeea",
            measurementId: "G-CE76TPTJ2R"
        };

        // Inicialização do Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const database = firebase.database(app);
        
        // Referência para o nó 'nomes'
        const nomesRef = database.ref('nomes');
        
        // Função para adicionar nome
        function addName() {
            const nameInput = document.getElementById('nameInput').value;
            if (nameInput.trim() === "") {
                alert("Por favor, adicione um nome!");
                return;
            }
            nomesRef.push({
                name: nameInput
            });
            document.getElementById('nameInput').value = "";
        }
        
        // Função para renderizar a lista de nomes
        function renderList(snapshot) {
            const nameList = document.getElementById('nameList');
            nameList.innerHTML = ""; // Limpar lista
            snapshot.forEach(function(childSnapshot) {
                const childData = childSnapshot.val();
                const li = document.createElement('li');
                li.setAttribute('data-id', childSnapshot.key);
                li.innerHTML = `
                    ${childData.name} 
                    <button onclick="editName('${childSnapshot.key}', '${childData.name}')">Editar</button>
                    <button onclick="deleteName('${childSnapshot.key}')">Excluir</button>
                `;
                nameList.appendChild(li);
            });
        }
        
        // Função para editar nome
        function editName(id, currentName) {
            const newName = prompt("Editar nome:", currentName);
            if (newName !== null && newName.trim() !== "") {
                nomesRef.child(id).update({
                    name: newName
                });
            }
        }
        
        // Função para excluir nome
        function deleteName(id) {
            if (confirm("Tem certeza que deseja excluir este nome?")) {
                nomesRef.child(id).remove();
            }
        }
        
        // Observar mudanças no banco de dados
        nomesRef.on('value', function(snapshot) {
            renderList(snapshot);
        });
    </script>

</body>
</html>
